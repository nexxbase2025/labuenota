
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Nuestros Artistas</title>
<style>
  :root{--gapFactor:0.05;--accent:#ffcc00;}
  html,body{height:100%;margin:0;background:#000;color:#fff;overflow:hidden;font-family:system-ui,Arial,sans-serif;}
  header{position:fixed;top:0;left:0;right:0;height:56px;display:flex;align-items:center;justify-content:center;background:#0f0f0f;border-bottom:1px solid #2a2a2a;z-index:100;}
  h1{font-size:16px;margin:0;}
  .hint{position:fixed;top:58px;right:10px;font-size:12px;opacity:.7;z-index:100;}
  .zone{position:absolute;top:0;left:0;right:0;bottom:0;display:grid;place-items:center;perspective:1400px;}
  .ring{position:relative;width:100%;height:100%;transform-style:preserve-3d;will-change:transform;}
  .panel{position:absolute;top:50%;left:50%;translate:-50% -50%;border-radius:16px;overflow:hidden;background:#111;box-shadow:0 10px 28px rgba(0,0,0,.55);backface-visibility:hidden;display:flex;flex-direction:column;}
  .panel img{width:100%;aspect-ratio:4/5;object-fit:cover;flex-shrink:0;}
  .info{padding:10px 12px;background:#111;color:#fff;font-size:clamp(13px,2.6vw,16px);line-height:1.4;text-align:center;}
  .info h3{margin:0 0 4px;font-size:1.1em;color:var(--accent);}
  .volver{position:fixed;left:50%;bottom:10px;translate:-50% 0;padding:12px 20px;border:none;border-radius:999px;background:var(--accent);color:#000;font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(0,0,0,.35);z-index:100;}
</style>
</head>
<body>
<header><h1>ðŸŽ¤ Nuestros Artistas</h1></header>
<div class="hint">Desliza izquierda / derecha</div>

<main class="zone">
  <div class="ring" id="ring-art">
    <figure class="panel"><img src="1 AR.webp" alt="Artista 1"><div class="info"><h3>Artista 1</h3><p>ReggaetÃ³n Â· El mejor exponente del reggaeton en Ecuador, ahora estÃ¡ dando de quÃ© hablar en el mundo entero</p></div></figure>
    <figure class="panel"><img src="2 AR.webp" alt="Artista 2"><div class="info"><h3>Artista 2</h3><p>Salsa Â· BiografÃ­a corta aquÃ­</p></div></figure>
    <figure class="panel"><img src="3 AR.webp" alt="Artista 3"><div class="info"><h3>Artista 3</h3><p>Bachata Â· BiografÃ­a corta aquÃ­</p></div></figure>
    <figure class="panel"><img src="4 AR.webp" alt="Artista 4"><div class="info"><h3>Artista 4</h3><p>Mambo Â· BiografÃ­a corta aquÃ­</p></div></figure>
  </div>
</main>

<button class="volver" onclick="volver()">â¬… Volver al inicio</button>

<script>
function volver(){if(window.opener){window.close();}else{location.href='index.html';}}

function mountCylinder(ringId){
  const ring=document.getElementById(ringId);
  const panels=Array.from(ring.children);
  const N=panels.length;
  let rotY=0;

  function layout(){
    const zone=ring.closest('.zone');
    const availH=zone.clientHeight;
    const availW=zone.clientWidth;

    // Definimos tamaÃ±o mÃ¡ximo del panel
    const panelH=Math.min(availH*0.7, availW*0.8*5/4); // altura 70% del viewport o segÃºn ancho
    const panelW=Math.round(panelH*4/5);
    const panelFullH=panelH + 60; // espacio info

    // Radio del cilindro
    const gap=parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--gapFactor'))||0.05;
    const angle=2*Math.PI/N;
    const R=Math.round((panelW*(1+gap))/(2*Math.sin(angle/2)));

    panels.forEach((p,i)=>{
      p.style.width=panelW+'px';
      p.style.height=panelFullH+'px';
      const deg=i*(360/N);
      p.style.transform=`translate(-50%,-50%) rotateY(${deg}deg) translateZ(${R}px)`;
    });

    ring.style.transform=`rotateY(${rotY}deg)`;
  }

  let dragging=false,startX=0;
  const speed=0.35;

  const onDown=e=>{
    dragging=true;
    startX=(e.touches?e.touches[0].clientX:e.clientX);
  };
  const onMove=e=>{
    if(!dragging) return;
    const x=(e.touches?e.touches[0].clientX:e.clientX);
    rotY+=(x-startX)*speed;
    ring.style.transform=`rotateY(${rotY}deg)`;
    startX=x;
  };
  const onUp=()=>dragging=false;

  ring.addEventListener('mousedown',onDown);
  ring.addEventListener('touchstart',onDown,{passive:false});
  window.addEventListener('mousemove',onMove,{passive:false});
  window.addEventListener('touchmove',onMove,{passive:false});
  window.addEventListener('mouseup',onUp);
  window.addEventListener('touchend',onUp);
  window.addEventListener('resize',layout);
  window.addEventListener('orientationchange',layout);

  layout();
}

mountCylinder('ring-art');
</script>
</body>
</html>
